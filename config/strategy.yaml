# ğŸ§± ç­–ç•¥é…ç½®æ–‡ä»¶
# æ ¸å¿ƒæ§åˆ¶å°ï¼šåœ¨è¿™é‡Œåˆ‡æ¢ä½ çš„ä½œæˆ˜æ¨¡å¼ (ç½‘æ ¼ vs å¥—åˆ©)

# ==========================================
# ğŸ® ç­–ç•¥æ€»æ§
# ==========================================
# é€‰é¡¹:
#   "futures_grid"   - åˆçº¦ç½‘æ ¼ (å½“å‰å¸‚åœºè´´æ°´/éœ‡è¡æ—¶ä½¿ç”¨)
#   "cash_and_carry" - èµ„é‡‘è´¹ç‡å¥—åˆ© (ç‰›å¸‚/æ­£æº¢ä»·æ—¶ä½¿ç”¨)
#   "trend_strategy" - å•å¸ç§è¶‹åŠ¿æ»šä»“ç­–ç•¥
#   "multi_trend"    - å¤šå¸ç§è¶‹åŠ¿ç­–ç•¥ï¼ˆæ¨èå°èµ„é‡‘ä½¿ç”¨ï¼‰
active_strategy: "multi_trend"

strategy:
  enabled: true
  dry_run: false

# ==========================================
# ğŸ”­ å¸‚åœºæ‰«æé…ç½® (Scanner + Regime)
# ==========================================
market_scan:
  enabled: true               # æ˜¯å¦å¼€å¯å¸‚åœºæ‰«æ
  top_n: 5                    # è¿”å›å‰ 5 ä¸ªå€™é€‰å“ç§ï¼ˆè¶‹åŠ¿åˆçº¦ï¼‰
  min_volume_24h: 50000000    # æœ€å° 24h æˆäº¤é¢ (5000 ä¸‡ USDT)
  min_price_change: 1.0       # æœ€å°æ¶¨è·Œå¹… 1%
  max_price_change: 20.0      # æœ€å¤§æ¶¨è·Œå¹… 20%
  scan_interval: 300          # æ‰«æé—´éš”ï¼ˆç§’ï¼‰- 5åˆ†é’Ÿ

  # è¶‹åŠ¿ç­›é€‰é…ç½®ï¼ˆç”¨äºç­›é€‰è¶‹åŠ¿åˆçº¦ï¼‰
  trend_only: true            # åªé€‰æ‹©è¶‹åŠ¿ç¯å¢ƒçš„åˆçº¦
  min_adx: 25                 # æœ€å°ADXï¼ˆè¶‹åŠ¿å¼ºåº¦ï¼‰
  min_atr_expansion: 1      # æœ€å°ATRæ‰©å¼ ï¼ˆæ³¢åŠ¨ç‡ï¼‰

# ==========================================
# ğŸŒŠ å¸‚åœºç¯å¢ƒæ£€æµ‹é…ç½® (Regime Detector)
# ==========================================
regime:
  adx_threshold: 25           # ADX é˜ˆå€¼ï¼ˆè¶‹åŠ¿åˆ¤æ–­ï¼‰
  volatility_expand: 1.5      # æ³¢åŠ¨ç‡æ‰©å¼ é˜ˆå€¼ï¼ˆæ··ä¹±åˆ¤æ–­ï¼‰
  ema_period: 20              # EMA å‘¨æœŸ
  rsi_period: 14              # RSI å‘¨æœŸ
  atr_period: 14              # ATR å‘¨æœŸ
  bollinger_period: 20        # å¸ƒæ—å¸¦å‘¨æœŸ
  bollinger_std: 2            # å¸ƒæ—å¸¦æ ‡å‡†å·®
  # ==========================================
  # ğŸ•¸ï¸ ç­–ç•¥ A: åŠ¨æ€ AI è¶‹åŠ¿æ»šä»“
  # ==========================================
trend_strategy:
  enabled: true
  leverage: 3          # è¶‹åŠ¿ç­–ç•¥é»˜è®¤ 3å€æ æ†
  max_risk_pct: 0.06   # æ€»é£é™© 6%
  max_layers: 3        # æœ€å¤§åŠ ä»“ 3å±‚
# ==========================================
# ğŸ•¸ï¸ ç­–ç•¥ A: åŠ¨æ€ AI åˆçº¦ç½‘æ ¼
# ==========================================
futures_grid:
  symbol: "ETH-USDT-SWAP"
  direction: "neutral"     # neutral(ä¸­æ€§), long(åšå¤š), short(åšç©º)
  leverage: 3

  # ğŸ”¥ AI åŠ¨æ€é…ç½®å¼€å…³
  is_dynamic: true         # å¼€å¯åï¼Œä¸‹æ–¹ fixed å‚æ•°å¤±æ•ˆï¼Œç”±ç®—æ³•è‡ªåŠ¨è®¡ç®—

  # åŠ¨æ€å‚æ•° (AI ä¾æ®)
  lookback_period: 20      # å›çœ‹è¿‡å» 20 æ ¹ K çº¿
  k_line_interval: "1H"    # ä½¿ç”¨ 1 å°æ—¶ K çº¿è®¡ç®—
  band_width_multiplier: 2.0 # å¸ƒæ—å¸¦å®½åº¦ (æ ‡å‡†å·®å€æ•°)

  # é™æ€ä¿åº•å‚æ•° (å¦‚æœ AI è®¡ç®—å¤±è´¥ï¼Œé™çº§ä½¿ç”¨è¿™äº›)
  grid_type: "arithmetic"
  lower_price: 2200
  upper_price: 2800
  grid_count: 30           # ç½‘æ ¼æ•°é‡

  # èµ„é‡‘
  investment: 500

  # é£æ§
  stop_loss_pct: 0.10      # è·Œç ´ç½‘æ ¼ä¸‹é™ 10% æ­¢æŸ

# ==========================================
# ğŸ“Š ç­–ç•¥ C: å¤šå¸ç§è¶‹åŠ¿æ»šä»“ï¼ˆé€‚åˆå°èµ„é‡‘ï¼‰
# ==========================================
# ğŸ’° èµ„é‡‘é…ç½®è¯´æ˜ï¼š
# - æ€»æœ¬é‡‘: 40U
# - é£é™©æ¨¡å‹: Fixed Fractional Risk
# - è®¡ç®—å…¬å¼: ä»“ä½ä»·å€¼ = (æ€»èµ„é‡‘ Ã— é£é™©æ¯”ä¾‹) / æ­¢æŸå¹…åº¦
# - ä¿è¯é‡‘å ç”¨ = ä»“ä½ä»·å€¼ / æ æ†
# ==========================================
# å½“å‰é…ç½®ï¼ˆæ”¯æŒ 5 å•ï¼‰:
# - å•ç¬”é£é™©: 40U Ã— 1% = 0.4U
# - ä»“ä½ä»·å€¼: 0.4U / 3% = 13.33U
# - ä¿è¯é‡‘: 13.33U / 3x = 4.44U/å•
# - æœ€å¤§å¼€ä»“: 40U / 4.44U â‰ˆ 9å•ï¼ˆå®é™…é™åˆ¶ä¸º5å•ï¼‰
# ==========================================
multi_trend:
  # èµ„é‡‘é…ç½®
  total_capital: 40        # æ€»èµ„é‡‘ 40U
  max_positions: 5         # æœ€å¤š5ä¸ªæŒä»“
  leverage: 3              # 3å€æ æ†

  # é£é™©é…ç½®ï¼ˆå·²ä¼˜åŒ–ä»¥æ”¯æŒ5å•åŒæ—¶è¿è¡Œï¼‰
  risk_per_position: 0.01  # æ¯ä¸ªä»“ä½é£é™© 1%ï¼ˆä»2%é™ä½åˆ°1%ï¼‰
  stop_loss_pct: 0.03      # æ­¢æŸ 3%ï¼ˆä»2%æé«˜åˆ°3%ï¼Œä»¥é™ä½å•ç¬”ä»“ä½ä»·å€¼ï¼‰
  take_profit_pct: 0.06    # æ­¢ç›ˆ 6%ï¼ˆé£é™©æ”¶ç›Šæ¯” 1:2ï¼‰

  # è¯„ä¼°é…ç½®
  evaluation_interval: 15  # è¯„ä¼°é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  min_profit_threshold: 0.01  # æœ€å°ç›ˆåˆ© 1%

  # è¶‹åŠ¿è¯†åˆ«é…ç½®
  adx_threshold: 25        # ADX é˜ˆå€¼
  trend_period: "4H"       # è¶‹åŠ¿å‘¨æœŸï¼ˆ4å°æ—¶ï¼‰

  # å€™é€‰äº¤æ˜“å¯¹åˆ—è¡¨ï¼ˆä»…ä½œå‚è€ƒï¼Œå®é™…ç”±MarketScanneråŠ¨æ€ç­›é€‰ï¼‰
  candidates:
    - "BTC-USDT-SWAP"
    - "ETH-USDT-SWAP"
    - "SOL-USDT-SWAP"
    - "DOGE-USDT-SWAP"
    - "PEPE-USDT-SWAP"
    - "HYPE-USDT-SWAP"
    - "WIF-USDT-SWAP"
    - "BONK-USDT-SWAP"
    - "FLOKI-USDT-SWAP"

cash_and_carry:
  # å¼€ä»“æ¡ä»¶ (Spread > 0.1% ä¸” è´¹ç‡ > 0.01%)
  open_conditions:
    spread_threshold: 0.0010        # ä»·å·®é˜ˆå€¼ 0.1%
    funding_rate_threshold: 0.0001  # èµ„é‡‘è´¹ç‡é˜ˆå€¼ 0.01%
    min_funding_rate: 0.00005       # æœ€å°è´¹ç‡ä¿æŠ¤
    max_funding_rate: 0.05          # æœ€å¤§è´¹ç‡é™åˆ¶

  # å¹³ä»“æ¡ä»¶ (Spread < 0% æˆ– è´¹ç‡è½¬è´Ÿ)
  close_conditions:
    spread_threshold: 0.0000        # ä»·å·®å½’é›¶å¹³ä»“
    funding_rate_threshold: -0.00005
    min_profit: 0.005               # æœ€å°ç›ˆåˆ© 0.5%
    max_loss: 0.02                  # æœ€å¤§æ­¢æŸ 2%
    max_holding_time: 720           # æœ€é•¿æŒä»“ 30å¤©

  # ä»“ä½ç®¡ç†
  position_management:
    initial_position_ratio: 0.5     # é¦–å•ä»“ä½ 50%
    max_position_ratio: 0.8         # æœ€å¤§ä»“ä½ 80%
    position_increment_ratio: 0.1   # åŠ ä»“æ­¥é•¿