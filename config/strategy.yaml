# ğŸ§± ç­–ç•¥é…ç½®æ–‡ä»¶
# æ ¸å¿ƒæ§åˆ¶å°ï¼šåœ¨è¿™é‡Œåˆ‡æ¢ä½ çš„ä½œæˆ˜æ¨¡å¼ (ç½‘æ ¼ vs å¥—åˆ©)

# ==========================================
# ğŸ® ç­–ç•¥æ€»æ§
# ==========================================
# é€‰é¡¹:
#   "futures_grid"   - åˆçº¦ç½‘æ ¼ (å½“å‰å¸‚åœºè´´æ°´/éœ‡è¡æ—¶ä½¿ç”¨)
#   "cash_and_carry" - èµ„é‡‘è´¹ç‡å¥—åˆ© (ç‰›å¸‚/æ­£æº¢ä»·æ—¶ä½¿ç”¨)
active_strategy: "trend_strategy"

strategy:
  enabled: true
  dry_run: false

# ==========================================
# ğŸ”­ å¸‚åœºæ‰«æé…ç½® (Scanner + Regime)
# ==========================================
market_scan:
  enabled: true               # æ˜¯å¦å¼€å¯å¸‚åœºæ‰«æ
  top_n: 10                    # è¿”å›å‰ N ä¸ªå€™é€‰å“ç§
  min_volume_24h: 50000000    # æœ€å° 24h æˆäº¤é¢ (1000 ä¸‡ USDT)
  min_price_change: 1.0       # æœ€å°æ¶¨è·Œå¹… 1%
  max_price_change: 20.0      # æœ€å¤§æ¶¨è·Œå¹… 20%
  scan_interval: 120           # æ‰«æé—´éš”ï¼ˆç§’ï¼‰

# ==========================================
# ğŸŒŠ å¸‚åœºç¯å¢ƒæ£€æµ‹é…ç½® (Regime Detector)
# ==========================================
regime:
  adx_threshold: 25           # ADX é˜ˆå€¼ï¼ˆè¶‹åŠ¿åˆ¤æ–­ï¼‰
  volatility_expand: 1.5      # æ³¢åŠ¨ç‡æ‰©å¼ é˜ˆå€¼ï¼ˆæ··ä¹±åˆ¤æ–­ï¼‰
  ema_period: 20              # EMA å‘¨æœŸ
  rsi_period: 14              # RSI å‘¨æœŸ
  atr_period: 14              # ATR å‘¨æœŸ
  bollinger_period: 20        # å¸ƒæ—å¸¦å‘¨æœŸ
  bollinger_std: 2            # å¸ƒæ—å¸¦æ ‡å‡†å·®
  # ==========================================
  # ğŸ•¸ï¸ ç­–ç•¥ A: åŠ¨æ€ AI è¶‹åŠ¿æ»šä»“
  # ==========================================
trend_strategy:
  enabled: true
  leverage: 3          # è¶‹åŠ¿ç­–ç•¥é»˜è®¤ 3å€æ æ†
  max_risk_pct: 0.06   # æ€»é£é™© 6%
  max_layers: 3        # æœ€å¤§åŠ ä»“ 3å±‚
# ==========================================
# ğŸ•¸ï¸ ç­–ç•¥ A: åŠ¨æ€ AI åˆçº¦ç½‘æ ¼
# ==========================================
futures_grid:
  symbol: "ETH-USDT-SWAP"
  direction: "neutral"     # neutral(ä¸­æ€§), long(åšå¤š), short(åšç©º)
  leverage: 3

  # ğŸ”¥ AI åŠ¨æ€é…ç½®å¼€å…³
  is_dynamic: true         # å¼€å¯åï¼Œä¸‹æ–¹ fixed å‚æ•°å¤±æ•ˆï¼Œç”±ç®—æ³•è‡ªåŠ¨è®¡ç®—

  # åŠ¨æ€å‚æ•° (AI ä¾æ®)
  lookback_period: 20      # å›çœ‹è¿‡å» 20 æ ¹ K çº¿
  k_line_interval: "1H"    # ä½¿ç”¨ 1 å°æ—¶ K çº¿è®¡ç®—
  band_width_multiplier: 2.0 # å¸ƒæ—å¸¦å®½åº¦ (æ ‡å‡†å·®å€æ•°)

  # é™æ€ä¿åº•å‚æ•° (å¦‚æœ AI è®¡ç®—å¤±è´¥ï¼Œé™çº§ä½¿ç”¨è¿™äº›)
  grid_type: "arithmetic"
  lower_price: 2200
  upper_price: 2800
  grid_count: 30           # ç½‘æ ¼æ•°é‡

  # èµ„é‡‘
  investment: 500

  # é£æ§
  stop_loss_pct: 0.10      # è·Œç ´ç½‘æ ¼ä¸‹é™ 10% æ­¢æŸ

# ==========================================
# ğŸ’° ç­–ç•¥ B: èµ„é‡‘è´¹ç‡å¥—åˆ© (Cash & Carry) - åŸæœ‰
# ==========================================
cash_and_carry:
  # å¼€ä»“æ¡ä»¶ (Spread > 0.1% ä¸” è´¹ç‡ > 0.01%)
  open_conditions:
    spread_threshold: 0.0010        # ä»·å·®é˜ˆå€¼ 0.1%
    funding_rate_threshold: 0.0001  # èµ„é‡‘è´¹ç‡é˜ˆå€¼ 0.01%
    min_funding_rate: 0.00005       # æœ€å°è´¹ç‡ä¿æŠ¤
    max_funding_rate: 0.05          # æœ€å¤§è´¹ç‡é™åˆ¶

  # å¹³ä»“æ¡ä»¶ (Spread < 0% æˆ– è´¹ç‡è½¬è´Ÿ)
  close_conditions:
    spread_threshold: 0.0000        # ä»·å·®å½’é›¶å¹³ä»“
    funding_rate_threshold: -0.00005
    min_profit: 0.005               # æœ€å°ç›ˆåˆ© 0.5%
    max_loss: 0.02                  # æœ€å¤§æ­¢æŸ 2%
    max_holding_time: 720           # æœ€é•¿æŒä»“ 30å¤©

  # ä»“ä½ç®¡ç†
  position_management:
    initial_position_ratio: 0.5     # é¦–å•ä»“ä½ 50%
    max_position_ratio: 0.8         # æœ€å¤§ä»“ä½ 80%
    position_increment_ratio: 0.1   # åŠ ä»“æ­¥é•¿