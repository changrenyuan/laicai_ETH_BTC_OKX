# ğŸ§± é£é™©ç®¡ç†é…ç½®æ–‡ä»¶
# ç†”æ–­ / ä¿è¯é‡‘ / æ·±åº¦ / æ»‘ç‚¹

# ä¿è¯é‡‘é˜²æŠ¤
margin_guard:
  enabled: true
  margin_ratio_warning: 0.80  # ä¿è¯é‡‘ç‡è­¦å‘Šé˜ˆå€¼ 80%
  margin_ratio_critical: 0.60  # ä¿è¯é‡‘ç‡å±é™©é˜ˆå€¼ 60%
  margin_ratio_stop: 0.50  # ä¿è¯é‡‘ç‡ç†”æ–­é˜ˆå€¼ 50%
  auto_add_margin: true  # è‡ªåŠ¨è¿½åŠ ä¿è¯é‡‘
  auto_reduce_position: true  # è‡ªåŠ¨å‡ä»“

# èµ„é‡‘å†å¹³è¡¡
fund_guard:
  enabled: true
  check_interval: 60  # æ£€æŸ¥é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
  transfer_threshold: 1000  # åˆ’è½¬é˜ˆå€¼ï¼ˆUSDTï¼‰
  max_transfer_per_day: 10000  # æ¯æ—¥æœ€å¤§åˆ’è½¬ï¼ˆUSDTï¼‰

# æµåŠ¨æ€§/æ·±åº¦é˜²æŠ¤
liquidity_guard:
  enabled: true
  min_depth_threshold: 10000  # æœ€å°æ·±åº¦ï¼ˆUSDTï¼‰
  max_slippage_ratio: 0.001  # æœ€å¤§æ»‘ç‚¹ 0.1%
  volume_check_window: 5  # æˆäº¤é‡æ£€æŸ¥çª—å£ï¼ˆåˆ†é’Ÿï¼‰
  min_volume_ratio: 0.1  # æœ€å°æˆäº¤é‡æ¯”ä¾‹

# ç†”æ–­å™¨
circuit_breaker:
  enabled: true
  max_consecutive_losses: 3  # æœ€å¤§è¿ç»­äºæŸæ¬¡æ•°
  consecutive_loss_threshold: 100  # è¿ç»­äºæŸé˜ˆå€¼ï¼ˆUSDTï¼‰
  daily_loss_limit: 500  # æ—¥äºæŸé™é¢ï¼ˆUSDTï¼‰
  daily_profit_limit: 2000  # æ—¥ç›ˆåˆ©é™é¢ï¼ˆUSDTï¼‰ï¼ˆé˜²æ­¢è¿‡åº¦è´ªå©ªï¼‰
  cooldown_period: 3600  # å†·å´æ—¶é—´ï¼ˆç§’ï¼‰

# äº¤æ˜“æ‰€å¼‚å¸¸é˜²æŠ¤
exchange_guard:
  enabled: true
  max_api_errors: 5  # æœ€å¤§ API é”™è¯¯æ¬¡æ•°
  api_error_window: 60  # API é”™è¯¯çª—å£ï¼ˆç§’ï¼‰
  max_order_rejects: 3  # æœ€å¤§è®¢å•æ‹’ç»æ¬¡æ•°
  order_timeout: 10  # è®¢å•è¶…æ—¶ï¼ˆç§’ï¼‰
  websocket_disconnect_threshold: 3  # WebSocket æ–­è¿é˜ˆå€¼
  auto_retry: true  # è‡ªåŠ¨é‡è¯•
  retry_delay: 5  # é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
  max_retries: 3  # æœ€å¤§é‡è¯•æ¬¡æ•°

# ä»·æ ¼å¼‚å¸¸æ£€æµ‹
price_anomaly:
  enabled: true
  max_price_change_ratio: 0.05  # æœ€å¤§ä»·æ ¼å˜åŒ–æ¯”ä¾‹ 5%
  price_spike_threshold: 0.03  # ä»·æ ¼æ’é’ˆé˜ˆå€¼ 3%
  volume_spike_threshold: 5.0  # æˆäº¤é‡å¼‚å¸¸å€æ•°

# ä»“ä½é™åˆ¶
position_limits:
  max_single_position: 50000  # å•å¸ç§æœ€å¤§æŒä»“ï¼ˆUSDTï¼‰
  max_total_position: 80000  # æ€»æœ€å¤§æŒä»“ï¼ˆUSDTï¼‰
  max_position_ratio: 0.8  # æœ€å¤§æŒä»“æ¯”ä¾‹
  position_concentration_limit: 0.5  # æŒä»“é›†ä¸­åº¦é™åˆ¶
