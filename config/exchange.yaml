# ğŸ§± äº¤æ˜“æ‰€é…ç½®æ–‡ä»¶
# API å‚æ•° / é™æµ / è¶…æ—¶ / WebSocket

# OKX äº¤æ˜“æ‰€é…ç½®
okx:
  # API è®¤è¯é…ç½®ï¼ˆä» account.yaml è¯»å–ï¼‰
  # api_key: ä» account.sub_account.api_key è¯»å–
  # api_secret: ä» account.sub_account.api_secret è¯»å–
  # api_passphrase: ä» account.sub_account.api_passphrase è¯»å–
  # sandbox: ä» account.sub_account.sandbox è¯»å–

  # API åŸºç¡€ URL
  base_url:
    mainnet: "https://www.okx.com"
    testnet: "https://www.okx.com"  # OKX æ²™ç›’ä¹Ÿä½¿ç”¨ä¸»åŸŸåï¼Œé€šè¿‡ header åŒºåˆ†

  # WebSocket é…ç½®
  websocket:
    public_url: "wss://ws.okx.com:8443/ws/v5/public"
    private_url: "wss://ws.okx.com:8443/ws/v5/private"
    reconnect_interval: 5  # é‡è¿é—´éš”ï¼ˆç§’ï¼‰
    max_reconnect_attempts: 10  # æœ€å¤§é‡è¿æ¬¡æ•°

  # API é¢‘ç‡é™åˆ¶ï¼ˆRate Limitingï¼‰
  rate_limits:
    # äº¤æ˜“æ¥å£
    trade:
      limit: 20
      window: 2  # 2ç§’å†…æœ€å¤š20æ¬¡

    # è´¦æˆ·æ¥å£
    account:
      limit: 20
      window: 2

    # è¡Œæƒ…æ¥å£
    market:
      limit: 20
      window: 2

    # å…¬å…±æ¥å£
    public:
      limit: 20
      window: 2

  # è¯·æ±‚è¶…æ—¶é…ç½®
  timeouts:
    connect: 10  # è¿æ¥è¶…æ—¶ï¼ˆç§’ï¼‰
    read: 30  # è¯»å–è¶…æ—¶ï¼ˆç§’ï¼‰
    write: 10  # å†™å…¥è¶…æ—¶ï¼ˆç§’ï¼‰

  # é‡è¯•é…ç½®
  retry:
    enabled: true
    max_retries: 3
    retry_delay: 1  # é‡è¯•å»¶è¿Ÿï¼ˆç§’ï¼‰
    retry_on_status: [500, 502, 503, 504]

  # è®¢å•é…ç½®
  order:
    default_type: "market"  # market, limit, post_only, limit_maker
    default_leverage: 3  # é»˜è®¤æ æ†å€æ•°
    default_margin_mode: "cross"  # cross, isolated

  # æ”¯æŒçš„äº¤æ˜“ç±»å‹
  instruments:
    - "SWAP"  # æ°¸ç»­åˆçº¦
    - "FUTURES"  # äº¤å‰²åˆçº¦
    - "SPOT"  # ç°è´§
    - "OPTION"  # æœŸæƒ

  # å¥åº·æ£€æŸ¥
  health_check:
    enabled: true
    interval: 60  # æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    endpoint: "/api/v5/public/time"  # å¥åº·æ£€æŸ¥ç«¯ç‚¹

# é€šç”¨é…ç½®
common:
  # æ—¶é—´åŒæ­¥
  time_synchronization:
    enabled: true
    sync_interval: 60  # åŒæ­¥é—´éš”ï¼ˆç§’ï¼‰
    max_time_drift: 1000  # æœ€å¤§æ—¶é—´åå·®ï¼ˆæ¯«ç§’ï¼‰

  # æ—¥å¿—é…ç½®
  logging:
    level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
    format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
