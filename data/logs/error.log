2026-02-10 10:47:45,924 - Orchestrator - CRITICAL - Traceback (most recent call last):
  File "D:\git\laicai_ETH_BTC_OKX\main_auto.py", line 351, in run
    await self.phase_3_connect()
  File "D:\git\laicai_ETH_BTC_OKX\main_auto.py", line 170, in phase_3_connect
    Dashboard.print_account_overview(info)
  File "D:\git\laicai_ETH_BTC_OKX\monitor\dashboard.py", line 64, in print_account_overview
    mgn_color = Colors.GREEN if float(mgn_ratio) > 300 or mgn_ratio == '' else Colors.RED
                                ^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: ''

2026-02-10 10:48:46,112 - exchange.okx_client - ERROR - API Business Error: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691726716'}], 'inTime': '1770691726715827', 'msg': 'All operations failed', 'outTime': '1770691726717787'}
2026-02-10 10:48:46,112 - exchange.okx_client - ERROR - 批量下单部分或全部失败
2026-02-10 10:48:46,471 - exchange.okx_client - ERROR - API Business Error: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770691727072'}], 'inTime': '1770691727072223', 'msg': 'All operations failed', 'outTime': '1770691727073162'}
2026-02-10 10:48:46,472 - exchange.okx_client - ERROR - 批量下单部分或全部失败
2026-02-10 10:57:30,404 - exchange.okx_client - ERROR - API Business Error: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251014'}], 'inTime': '1770692251013641', 'msg': 'All operations failed', 'outTime': '1770692251015048'}
2026-02-10 10:57:30,404 - exchange.okx_client - ERROR - 批量下单部分或全部失败
2026-02-10 10:57:30,766 - exchange.okx_client - ERROR - API Business Error: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692251367'}], 'inTime': '1770692251367036', 'msg': 'All operations failed', 'outTime': '1770692251368420'}
2026-02-10 10:57:30,766 - exchange.okx_client - ERROR - 批量下单部分或全部失败
2026-02-10 10:57:30,767 - Orchestrator - CRITICAL - Traceback (most recent call last):
  File "D:\git\laicai_ETH_BTC_OKX\main_auto.py", line 430, in run
    await self.phase_8_main_loop()
          ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'QuantEngine' object has no attribute 'phase_8_main_loop'

2026-02-10 10:58:09,289 - exchange.okx_client - ERROR - API Business Error: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692289897'}], 'inTime': '1770692289896062', 'msg': 'All operations failed', 'outTime': '1770692289898003'}
2026-02-10 10:58:09,289 - exchange.okx_client - ERROR - 批量下单部分或全部失败
2026-02-10 10:58:09,636 - exchange.okx_client - ERROR - API Business Error: {'code': '1', 'data': [{'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}, {'clOrdId': '', 'ordId': '', 'sCode': '51000', 'sMsg': 'Parameter posSide error ', 'tag': '', 'ts': '1770692290249'}], 'inTime': '1770692290248513', 'msg': 'All operations failed', 'outTime': '1770692290249527'}
2026-02-10 10:58:09,636 - exchange.okx_client - ERROR - 批量下单部分或全部失败
2026-02-10 10:58:09,638 - Orchestrator - ERROR - Traceback (most recent call last):
  File "D:\git\laicai_ETH_BTC_OKX\main_auto.py", line 357, in phase_8_main_loop
    await sm.transition_to(SystemState.RUNNING, reason="Signal Triggered")
                           ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'SystemState' has no attribute 'RUNNING'

2026-02-10 10:58:09,639 - Orchestrator - CRITICAL - Traceback (most recent call last):
  File "D:\git\laicai_ETH_BTC_OKX\main_auto.py", line 357, in phase_8_main_loop
    await sm.transition_to(SystemState.RUNNING, reason="Signal Triggered")
                           ^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'SystemState' has no attribute 'RUNNING'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\git\laicai_ETH_BTC_OKX\main_auto.py", line 430, in run
    await self.phase_8_main_loop()
  File "D:\git\laicai_ETH_BTC_OKX\main_auto.py", line 384, in phase_8_main_loop
    await sm.transition_to(SystemState.IDLE, reason="Error Recovery")
  File "D:\git\laicai_ETH_BTC_OKX\core\state_machine.py", line 131, in transition_to
    raise ValueError(
ValueError: Invalid state transition: idle -> idle

